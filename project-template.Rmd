---
title: "Your Project Title (be descriptive and creative!)"
author: "Group 35: Max Ming Yi Koh (1007972785) and Kevin Le (TODO: add student #)"
date: March 31, 2022
output: 
  beamer_presentation:
    theme: "Pittsburgh"
    colortheme: "orchid"
    fonttheme: "structurebold"
    slide_level: 2
classoption: "aspectratio=169"
fontsize: 11pt
urlcolor: blue
---


```{r, echo=FALSE, message=FALSE, warning=FALSE}
# echo=FALSE will stop the code chunk from appearing in the knit document
# warning=FALSE and message=FALSE will stop R messages from appearing in the knit document
library(tidyverse)
library(dplyr)

# here is the data for this project
expedia_data <- read_csv("ExpediaSearchData.csv")
glimpse(expedia_data)

# see the Project Overview page for more information: 
# https://q.utoronto.ca/courses/235890/pages/project-overview
```

## Overall Introductions

## Data Summary

## Research Question 1
Does urgency affect how much consumers are willing to pay? 

--- 
# TODO: Add visualization 
```{r}
expedia_data_q1 <- expedia_data %>% 
  select(is_trans1, is_trans2, is_trans3, price_bucket1, price_bucket2, price_bucket3, 
         checkin_date, search_timestamp, destination_id) %>% 
  filter(is_trans1 + is_trans2 + is_trans3 == 1 & 
           !is.na(checkin_date) & !is.na(search_timestamp) & !is.na(destination_id)) %>%
  mutate(
    price_bucket1 = ifelse(is.na(is_trans1) | is_trans1 == 0, 0, price_bucket1),
    price_bucket2 = ifelse(is.na(is_trans2) | is_trans2 == 0, 0, price_bucket2),
    price_bucket3 = ifelse(is.na(is_trans3) | is_trans3 == 0, 0, price_bucket2),
    price_bucket = (price_bucket1 + price_bucket2 + price_bucket3) / (is_trans1 + is_trans2 + is_trans3),
    search_timestamp = as.Date(as.character(search_timestamp)))

expedia_data_q1 %>% ggplot(aes(x=checkin_date - search_timestamp, y=price_bucket)) + 
	geom_point() + 
	labs(x = "TODO: add x-axis label", 
		   y = "TODO: add y-axis label", 
		   title = "TODO: add title") + 
	geom_smooth(method="lm", se=FALSE) + 
	theme_minimal() 
```

--- 
# TODO: Set up statistical model 
```{r}
expedia_data_q1 <- expedia_data %>% 
  select(is_trans1, is_trans2, is_trans3, price_bucket1, price_bucket2, price_bucket3, 
         checkin_date, search_timestamp, destination_id) %>% 
  filter(is_trans1 + is_trans2 + is_trans3 == 1 & 
           !is.na(checkin_date) & !is.na(search_timestamp) & !is.na(destination_id)) %>%
  mutate(
    price_bucket1 = ifelse(is.na(is_trans1) | is_trans1 == 0, 0, price_bucket1),
    price_bucket2 = ifelse(is.na(is_trans2) | is_trans2 == 0, 0, price_bucket2),
    price_bucket3 = ifelse(is.na(is_trans3) | is_trans3 == 0, 0, price_bucket2),
    price_bucket = (price_bucket1 + price_bucket2 + price_bucket3) / (is_trans1 + is_trans2 + is_trans3),
    search_timestamp = as.Date(as.character(search_timestamp)))

head(expedia_data_q1, n = 10)
model <- lm(price_bucket ~ checkin_date - search_timestamp, data = expedia_data_q1)
summary(model)$coefficients
```

--- 
# TODO: Analyze results from statistical model 
- lack of consumers who transacted one of the first 3 listings. This limits the # of data points available to 9 datapoints. 
- from the linear regression model, we observe that there is a very weak negative association between [var1] and [var2] 
- The p-value calculated is 0.384 > 0.1 which implies there is no evidence against the null hypothesis that ... 
- We can conclude that urgency does not affect the price bucket 
- However, this result can still be further explored in the future for 2 reasons 
  ~ 9 data points out of a sample of 1000 users on a site like Expedia is not representative of the population (need to track      all users that transacted some property)
  ~ Originally, we planned to separate analysis by desinations to avoid pricing disparity due to different locations . However,     the remaining 9 destinations are all from different desination_id's. So, it is possible that the different locations
    resulted is the lack of correlation / strength of association. 

## Research Question 2 
Are properties with discounted prices more likely to be sold? 

Motivation of research question: 

--- 
# TODO: Add visualization 

--- 
# TODO: Set up statistical model 
```{r}

```

--- 
# TODO: Analyze results from statistical model 

## Research Question 3 
Do the number of infants, children and adults affect the length of travel?

--- 
# TODO: Add visualization 

--- 
# TODO: Set up statistical model 
```{r}

```

--- 
# TODO: Analyze results from statistical model 

## Limitations 

## Overall Conclusion
